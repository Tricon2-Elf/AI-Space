<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>footer.rd</title>
<link href="stylesheet.css" type="text/css" rel="stylesheet" />
</head>
<body>
<h1><a name="label-0" id="label-0">空間管理</a></h1><!-- RDLabel: "空間管理" -->
<p>ここではlobby-suiteにおける，空間の管理について説明しています。</p>
<h2><a name="label-1" id="label-1">空間</a></h2><!-- RDLabel: "空間" -->
<p>lobby-suitにおける空間とは，ユーザークライアント同士の接点となる場所の事を指します。
lobby-suiteでは，これをチャンネルと呼びます。
ユーザーはチャンネルと呼ばれる仮想空間に出入りし，
そこでチャットや仲間募集などを行う事が出来ます。</p>
<h3><a name="label-2" id="label-2">空間定義(チャンネル)</a></h3><!-- RDLabel: "空間定義(チャンネル)" -->
<p>チャンネルは，ホスト，ディレクトリ，チャンネルという3つの要素によって定義されます。
lobby-suiteでのチャンネルの1つは，URL風の文字列で表す事ができます。
これをアドレスと呼びます。アドレスは以下のフォーマットを取ります。</p>
<ul>
<li>ホスト部/ディレクトリ部/チャンネル名</li>
</ul>
<p>といった形式になります。これらは，全て英数字のみで構成されます。</p>
<p>この文字列はホスト部とディレクトリ部に別れます。最初の"/"(スラッシュ)までがホスト部，
残りがディレクトリ部 + (チャンネル)です。</p>
<p>このアドレスはクライアントがチャンネルに入室する際に指定するアドレスですが，
これをユーザーに見せるのは実装によって自由です。
ホスト部，ディレクトリ部，チャンネル名，全て別名を付ける事が出来，
ユーザーに分かりやすい日本語の文字列でカテゴリと共に伝える事が出来ます。</p>
<h4><a name="label-3" id="label-3">ホスト部</a></h4><!-- RDLabel: "ホスト部" -->
<p>接続するホストです。これは仮想的なホスト名で，
実際のインターネットでのホストをしめす文字列ではありません。
複数のホストに分ける事によって負荷分散させる事が出来ます。
ホスト設定ファイルにて，どのホストが実際のホストに繋がるかを指定します。</p>
<h4><a name="label-4" id="label-4">ディレクトリ部</a></h4><!-- RDLabel: "ディレクトリ部" -->
<p>ディレクトリ部は，主にチャンネルのカテゴリを分ける(整理する)為に存在します。
ディレクトリの設定にはファイルシステムを利用し，ディレクトリは入れ子の構造を取る事が出来ます。
apacheのように，ホストに存在する実際のディレクトリがそのまま反映されます。</p>
<h4><a name="label-5" id="label-5">チャンネル名</a></h4><!-- RDLabel: "チャンネル名" -->
<p>チャンネル自身を示す文字列です。これらも実際のファイルシステムにファイルとして存在します。
チャンネルはユーザーも作成する事が出来ます。</p>
<h4><a name="label-6" id="label-6">チャンネル表記の例</a></h4><!-- RDLabel: "チャンネル表記の例" -->
<p>以下のようなサーバー，ディレクトリ，チャンネルの構成があったとします。
(日本語)で書いてあるのは別名です。</p>
<pre>host     directory     cahnnel

sun -- + -- foo -- + -- channel_1
日本   |   東京    |    世田谷
       |           + -- channel_2
       |                渋谷
       +--- bar -- + -- channel_1
           大阪    |    難波
                   + -- channel_2
                        梅田

moon -- + -- bar --------- + -- channel_3
アメリカ|  ニューヨーク    |    ニューヨーク市
        |                  + -- channel_4
        |                       ワシントン
        +--- baz -------- + -- channel_3
           カリフォルニア |    ロスアンゼルス
                          + -- channel_4
                               ロスアラモス</pre>
<p>それぞれのチャンネルの表記は，以下のようになります。</p>
<ul>
<li>sun/foo/channel_1</li>
<li>sun/foo/channel_2</li>
<li>sun/bar/channel_1</li>
<li>sun/bar/channel_2</li>
<li>moon/bar/channel_3</li>
<li>moon/bar/channel_4</li>
<li>moon/baz/channel_3</li>
<li>moon/baz/channel_4</li>
</ul>
<h4><a name="label-7" id="label-7">チャンネルオープンの例</a></h4><!-- RDLabel: "チャンネルオープンの例" -->
<p>上記のサーバー，チャンネル構成である時を例にして，
実際にユーザーがチャンネルをオープンする例を示します。</p>
<dl>
<dt><a name="label-8" id="label-8">ロスアンゼルスチャンネルを開きたい時</a></dt><!-- RDLabel: "ロスアンゼルスチャンネルを開きたい時" -->
</dl>
<ol>
<li>サーバーリストを取得します。サーバーはsun(日本),moon(アメリカ)でした。</li>
<li>ユーザーはアメリカを選択し，openプロトコルを送信します。引数であるチャンネルは"moon/"です。</li>
<li>この時，ログインしていたサーバーが日本サーバーであれば，自動的に仮想回路の接続がアメリカ(moon)に切り替わります。</li>
<li>サーバーはmoonのトップディレクトリ("/")を調べます。ディレクトリしかありません。
    クライアントに返答をします。ニューヨーク州(moon/bar), カリフォルニア(moon/baz)です。</li>
<li>ユーザーはカリフォルニアを選択し，openプロトコルを送信します。引数は"moon/baz"です。</li>
<li>サーバーはmoon/bazディレクトリを調べます。ディレクトリはありません。チャンネルが存在します。
    クライアントに返答をします。ロスアンゼルス(moon/baz/channel_3), ロスアラモス(moon/baz/channel_4)です。</li>
<li>ユーザーはロスアンゼルスを選択し，サーバーにopenプロトコルを送信します。引数は"moon/baz/channel_3"です。</li>
<li>サーバーはmoon/baz/channel_3を調べます。チャンネルです。入室処理を行ない，結果をクライアントに送信します。</li>
</ol>
<h3><a name="label-9" id="label-9">空間定義( ルーム(部屋))</a></h3><!-- RDLabel: "空間定義( ルーム(部屋))" -->
<p>チャンネルには複数のルーム(部屋)が存在します。
部屋はゲームを始める為のユーザーを募集する空間です。
ユーザーは部屋に入室すると，その同じ部屋に存在する他ユーザーとゲームを始める事が出来ます。
現在は，部屋に入室しているユーザー全員を1つのゲームのメンバーとして扱います。
つまり，</p>
<p>部屋に入室する = あるゲームに参加の意思がある</p>
<p>という事になります。</p>
<pre>written by Masahiro Kawata(河田 正広)
mas@vce-lab.net
CommunityEngine Inc.
2001</pre>

</body>
</html>
